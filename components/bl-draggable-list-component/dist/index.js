!function(e, t){if('object'==typeof exports&&'object'==typeof module)module.exports=t();else if('function'==typeof define&&define.amd)define([], t);else{const n=t();for(const l in n)('object'==typeof exports?exports:e)[l]=n[l]}}(self, (() => (() => {'use strict';var e={ n:t => {const n=t&&t.__esModule?() => t.default:() => t;return e.d(n, { a:n }), n}, d:(t, n) => {for(const l in n)e.o(n, l)&&!e.o(t, l)&&Object.defineProperty(t, l, { enumerable:!0, get:n[l] })}, o:(e, t) => Object.prototype.hasOwnProperty.call(e, t), r:e => {'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e, Symbol.toStringTag, { value:'Module' }), Object.defineProperty(e, '__esModule', { value:!0 })} }, t={};e.r(t), e.d(t, { default:() => p });const n=self.React;const l=e.n(n);function a(){return React.createElement('svg', { 'clip-rule':'evenodd', 'fill-rule':'evenodd', 'stroke-linejoin':'round', 'stroke-miterlimit':'2', viewBox:'0 0 24 24', xmlns:'http://www.w3.org/2000/svg' }, React.createElement('path', { d:'m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719 5.719c.147.147.22.339.22.531 0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401 0-.75-.323-.75-.75 0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0 .385.073.531.219z' }))}function r(){return React.createElement('svg', { 'clip-rule':'evenodd', 'fill-rule':'evenodd', 'stroke-linejoin':'round', 'stroke-miterlimit':'2', viewBox:'0 0 24 24', xmlns:'http://www.w3.org/2000/svg' }, React.createElement('path', { d:'m22 16.75c0-.414-.336-.75-.75-.75h-18.5c-.414 0-.75.336-.75.75s.336.75.75.75h18.5c.414 0 .75-.336.75-.75zm0-5c0-.414-.336-.75-.75-.75h-18.5c-.414 0-.75.336-.75.75s.336.75.75.75h18.5c.414 0 .75-.336.75-.75zm0-5c0-.414-.336-.75-.75-.75h-18.5c-.414 0-.75.336-.75.75s.336.75.75.75h18.5c.414 0 .75-.336.75-.75z', 'fill-rule':'nonzero' }))}function c(){return React.createElement('svg', { xmlns:'http://www.w3.org/2000/svg', 'fill-rule':'evenodd', 'clip-rule':'evenodd' }, React.createElement('path', { d:'M8.071 21.586l-7.071 1.414 1.414-7.071 14.929-14.929 5.657 5.657-14.929 14.929zm-.493-.921l-4.243-4.243-1.06 5.303 5.303-1.06zm9.765-18.251l-13.3 13.301 4.242 4.242 13.301-13.3-4.243-4.243z' }))}function o(){return React.createElement('svg', { 'clip-rule':'evenodd', 'fill-rule':'evenodd', 'stroke-linejoin':'round', 'stroke-miterlimit':'2', viewBox:'0 0 24 24', xmlns:'http://www.w3.org/2000/svg' }, React.createElement('path', { d:'m2.25 12.321 7.27 6.491c.143.127.321.19.499.19.206 0 .41-.084.559-.249l11.23-12.501c.129-.143.192-.321.192-.5 0-.419-.338-.75-.749-.75-.206 0-.411.084-.559.249l-10.731 11.945-6.711-5.994c-.144-.127-.322-.19-.5-.19-.417 0-.75.336-.75.749 0 .206.084.412.25.56', 'fill-rule':'nonzero' }))}function u({ item:e, onDragStart:t, onDragEnd:l, onDragOver:u, index:i, component:s, onDelete:d, eventHandlers:m }){const{ itemsArray:v, allowEdit:p, allowDelete:f }=s, { onEdit:g }=m, [E, b]=(0, n.useState)(!1), [R, y]=(0, n.useState)(''), h=(0, n.useCallback)((e => {y(e.target.value)}), [event]), w=(0, n.useCallback)((() => {b(!0), y(e.label)}), [e]), k=(0, n.useCallback)((() => {if(R.trim().length){const e=v.map(((e, t) => i===t?{ ...e, label:R }:e));g({ currentArray:e, previousItem:v[i], currentItem:e[i] })}b(!1)}), [v, R, i]);return React.createElement('li', { onDragOver:e => u(e, i) }, React.createElement('div', { className:'content', draggable:!E, onDragStart:e => t(e, i), onDragEnd:l }, React.createElement(r, null), E?React.createElement('input', { type:'text', value:R, onChange:e => h(e) }):React.createElement('span', null, e.label)), React.createElement('div', { className:'svg-container' }, p&&!E&&React.createElement('button', { onClick:w }, React.createElement(c, null)), p&&E&&React.createElement('button', { onClick:k }, React.createElement(o, null)), f&&React.createElement('button', { onClick:() => d(i) }, React.createElement(a, null))))}function i(){return React.createElement('svg', { 'clip-rule':'evenodd', 'fill-rule':'evenodd', 'stroke-linejoin':'round', 'stroke-miterlimit':'2', viewBox:'0 0 24 24', xmlns:'http://www.w3.org/2000/svg' }, React.createElement('path', { d:'m11 11h-7.25c-.414 0-.75.336-.75.75s.336.75.75.75h7.25v7.25c0 .414.336.75.75.75s.75-.336.75-.75v-7.25h7.25c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-7.25v-7.25c0-.414-.336-.75-.75-.75s-.75.336-.75.75z', 'fill-rule':'nonzero' }))}function s({ isAdded:e, toggleIsAdded:t, component:l, eventHandlers:a }){const{ itemsArray:r }=l, { onAdd:c }=a, [u, s]=(0, n.useState)({ label:'', value:'' }), d=(0, n.useCallback)((e => {s({ ...u, [e.target.name]:e.target.value })}), [event, u]), m=(0, n.useCallback)((() => {if(u.label.trim()&&u.value.trim()){const e=[...r, u];c({ currentArray:e, addedItem:u }), s({ label:'', value:'' }), t()}}), [u, r]);return e?React.createElement('li', null, React.createElement('div', { className:'input-container' }, React.createElement('input', { type:'text', name:'label', value:u.label, placeholder:'Label', onChange:d }), React.createElement('input', { type:'text', name:'value', value:u.value, placeholder:'Value', onChange:d })), React.createElement('button', { onClick:m }, React.createElement(o, null))):React.createElement('li', null, React.createElement('button', { className:'add-item', onClick:t }, React.createElement(i, null)))}function d(e){return e.map(((e, t) => ({ ...e, uniqId:t })))}function m(e){return e.map((e => (delete e.uniqId, e)))}function v({ component:e, eventHandlers:t }){const{ onDrag:l, onDelete:a }=t, { itemsArray:r, allowAdd:c }=e, o=(0, n.useRef)(null), i=(0, n.useRef)(null), [v, p]=(0, n.useState)(!1), [f, g]=(0, n.useState)([]);(0, n.useEffect)((() => {if(r)if(Array.isArray(r)){const e=d(r);g(e)}else try{const e=JSON.parse(r);g(d(e))}catch{console.log('Not valid array')}}), [r]);const E=(0, n.useCallback)(((e, t) => {o.current=f[t], i.current=f, e.dataTransfer.effectAllowed='move', e.dataTransfer.setData('text/html', e.target.parentNode), e.dataTransfer.setDragImage(e.target.parentNode, 20, 20)}), [f, o]), b=(0, n.useCallback)(((e, t) => {e.preventDefault();const n=f[t];if(o.current.uniqId===n.uniqId)return;const l=f.filter((e => e.uniqId!==o.current.uniqId));l.splice(t, 0, o.current), g(l)}), [f, o]), R=(0, n.useCallback)((() => {l({ currentArray:m(f), draggableItem:m([o.current]), previousArray:m(i.current) }), o.current=null, i.current=null}), [f, o, i]), y=(0, n.useCallback)((e => {const t=r.filter(((t, n) => n!==e));a({ currentArray:t, deletedItem:r[e] })}), [r]), h=(0, n.useCallback)((() => {p(!v)}), [v]);return React.createElement('ul', { onDragOver:e => e.preventDefault }, f.length?f.map(((n, l) => React.createElement(u, { key:l, item:n, index:l, onDragStart:E, onDragEnd:R, onDragOver:b, component:e, onDelete:y, eventHandlers:t }))):React.createElement('li', { className:'empty' }, 'Empty'), c&&React.createElement(s, { isAdded:v, toggleIsAdded:h, component:e, eventHandlers:t }))}function p({ component:e, eventHandlers:t }){const{ title:n }=e;return l().createElement('div', { className:'bl-customComponent-draggableList' }, l().createElement('p', { className:'title' }, n), l().createElement(v, { component:e, eventHandlers:t }))}return t})()))